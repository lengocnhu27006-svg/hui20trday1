<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Quản Lý Hụi</title>
<style>
body{font-family:Arial;padding:20px}
table{border-collapse:collapse;width:100%}
th,td{border:1px solid #333;padding:8px;text-align:center}
th{background:#f2f2f2}
button{padding:5px 10px}
.daHot{color:red;font-weight:bold}
</style>
</head>
<body>

<h2>QUẢN LÝ HỤI</h2>

<button onclick="themNguoi()">➕ Thêm người</button>

<table>
<thead>
<tr>
  <th>Tên người</th>
  <th>Đã đóng</th>
  <th>Hốt</th>
</tr>
</thead>
<tbody id="bang"></tbody>
</table>

<script>
let danhSach = JSON.parse(localStorage.getItem("hui")) || [];

function luu(){
  localStorage.setItem("hui", JSON.stringify(danhSach));
}

function themNguoi(){
  danhSach.push({
    ten: "Người " + (danhSach.length + 1),
    daDong: false,
    daHot: false
  });
  luu();
  veBang();
}

function tickDong(i){
  danhSach[i].daDong = !danhSach[i].daDong;
  luu();
  veBang();
}

function hotHui(i){
  if(danhSach[i].daHot){
    alert("Người này đã hốt rồi!");
    return;
  }
  danhSach[i].daHot = true;
  luu();
  veBang();
}

function veBang(){
  let html = "";
  danhSach.forEach((n,i)=>{
    html += `
    <tr>
      <td>
        <input value="${n.ten}"
        oninput="danhSach[${i}].ten=this.value;luu()">
      </td>

      <td>
        <input type="checkbox"
        ${n.daDong ? "checked" : ""}
        onclick="tickDong(${i})">
      </td>

      <td>
        ${n.daHot 
          ? "<span class='daHot'>ĐÃ HỐT</span>"
          : "<button onclick='hotHui("+i+")'>Hốt</button>"
        }
      </td>
    </tr>`;
  });
  document.getElementById("bang").innerHTML = html;
}

veBang();
</script>

</body>
</html>
